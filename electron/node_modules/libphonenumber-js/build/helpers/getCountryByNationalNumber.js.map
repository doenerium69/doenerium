{"version":3,"file":"getCountryByNationalNumber.js","names":["getCountryByNationalNumber","possibleCountries","nationalPhoneNumber","metadata","Metadata","country","leadingDigits","search","getNumberType","phone","undefined"],"sources":["../../source/helpers/getCountryByNationalNumber.js"],"sourcesContent":["import Metadata from '../metadata.js'\r\nimport getNumberType from './getNumberType.js'\r\n\r\nexport default function getCountryByNationalNumber(possibleCountries, nationalPhoneNumber, metadata) {\r\n\t// Re-create `metadata` because it will be selecting a `country`.\r\n\tmetadata = new Metadata(metadata)\r\n\tfor (const country of possibleCountries) {\r\n\t\tmetadata.country(country)\r\n\t\t// \"Leading digits\" patterns are only defined for about 20% of all countries.\r\n\t\t// By definition, matching \"leading digits\" is a sufficient but not a necessary\r\n\t\t// condition for a phone number to belong to a country.\r\n\t\t// The point of \"leading digits\" check is that it's the fastest one to get a match.\r\n\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md#leading_digits\r\n\t\tif (metadata.leadingDigits()) {\r\n\t\t\tif (nationalPhoneNumber &&\r\n\t\t\t\tnationalPhoneNumber.search(metadata.leadingDigits()) === 0) {\r\n\t\t\t\treturn country\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Else perform full validation with all of those\r\n\t\t// fixed-line/mobile/etc regular expressions.\r\n\t\telse if (getNumberType({ phone: nationalPhoneNumber, country }, undefined, metadata.metadata)) {\r\n\t\t\treturn country\r\n\t\t}\r\n\t}\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;AAEe,SAASA,0BAAT,CAAoCC,iBAApC,EAAuDC,mBAAvD,EAA4EC,QAA5E,EAAsF;EACpG;EACAA,QAAQ,GAAG,IAAIC,oBAAJ,CAAaD,QAAb,CAAX;;EACA,qDAAsBF,iBAAtB,wCAAyC;IAAA,IAA9BI,OAA8B;IACxCF,QAAQ,CAACE,OAAT,CAAiBA,OAAjB,EADwC,CAExC;IACA;IACA;IACA;IACA;;IACA,IAAIF,QAAQ,CAACG,aAAT,EAAJ,EAA8B;MAC7B,IAAIJ,mBAAmB,IACtBA,mBAAmB,CAACK,MAApB,CAA2BJ,QAAQ,CAACG,aAAT,EAA3B,MAAyD,CAD1D,EAC6D;QAC5D,OAAOD,OAAP;MACA;IACD,CALD,CAMA;IACA;IAPA,KAQK,IAAI,IAAAG,yBAAA,EAAc;MAAEC,KAAK,EAAEP,mBAAT;MAA8BG,OAAO,EAAPA;IAA9B,CAAd,EAAuDK,SAAvD,EAAkEP,QAAQ,CAACA,QAA3E,CAAJ,EAA0F;MAC9F,OAAOE,OAAP;IACA;EACD;AACD"}